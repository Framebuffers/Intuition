[gd_scene load_steps=16 format=3 uid="uid://c8aolptgi6jrj"]

[ext_resource type="Script" path="res://Main.cs" id="1_dksua"]
[ext_resource type="PackedScene" uid="uid://cc1m2a1obsyn4" path="res://Players/Player.tscn" id="2_3t204"]
[ext_resource type="PackedScene" uid="uid://c6q5tucmpnnvc" path="res://Scenarios/terrain_textured.tscn" id="2_imfiy"]
[ext_resource type="PackedScene" uid="uid://b2mf0blfos800" path="res://UserInterface/Reticle.tscn" id="2_jtwl3"]
[ext_resource type="PackedScene" uid="uid://d1rcod6nig2gj" path="res://UserInterface/GUIPanel2D.tscn" id="2_thtg6"]
[ext_resource type="PackedScene" uid="uid://baxodtnr2hrms" path="res://Players/NPC/NPC.tscn" id="3_5xvgt"]
[ext_resource type="Script" path="res://Gameplay/GameplayMainLoop.cs" id="3_kklcd"]
[ext_resource type="Script" path="res://Gameplay/RigidBodyBehavior.cs" id="4_nqbc4"]
[ext_resource type="PackedScene" uid="uid://er1d52s1ogds" path="res://Meshes/Rocks/Rocks_BG.tscn" id="5_0asay"]
[ext_resource type="PackedScene" uid="uid://1qragn5ovf62" path="res://Items/PictureFrame.tscn" id="5_pu7cx"]
[ext_resource type="Environment" uid="uid://dp6s2mqmdxa14" path="res://Scenarios/Intuition.tres" id="5_pvwm4"]
[ext_resource type="PackedScene" uid="uid://c8q8pw4pbvj80" path="res://Cameras/ExteriorLighting.tscn" id="6_ligor"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_f2dgg"]
friction = 0.59
bounce = 0.2
absorbent = true

[sub_resource type="SphereMesh" id="SphereMesh_cgtch"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_dpfpq"]
radius = 0.758998

[node name="Main" type="Node3D"]
script = ExtResource("1_dksua")

[node name="PlayerManager" type="Node3D" parent="."]

[node name="ScreenManager" type="Node" parent="."]

[node name="SceneManager" type="Node3D" parent="ScreenManager"]

[node name="Terrain" parent="ScreenManager/SceneManager" instance=ExtResource("2_imfiy")]
script = ExtResource("3_kklcd")

[node name="BackgroundItems" type="Node3D" parent="ScreenManager/SceneManager"]

[node name="NPC" type="Node3D" parent="ScreenManager/SceneManager"]

[node name="NPC" parent="ScreenManager/SceneManager/NPC" instance=ExtResource("3_5xvgt")]
transform = Transform3D(0.33, 0, 0, 0, 0.33, 0, 0, 0, 0.33, 4.12487, -0.00925672, 8.78291)
collision_mask = 494

[node name="RigidBody3D" type="RigidBody3D" parent="ScreenManager/SceneManager"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.30046, -20.9323)
collision_layer = 16
collision_mask = 510
physics_material_override = SubResource("PhysicsMaterial_f2dgg")
script = ExtResource("4_nqbc4")

[node name="MeshInstance3D" type="MeshInstance3D" parent="ScreenManager/SceneManager/RigidBody3D"]
mesh = SubResource("SphereMesh_cgtch")

[node name="CollisionShape3D" type="CollisionShape3D" parent="ScreenManager/SceneManager/RigidBody3D"]
shape = SubResource("CapsuleShape3D_dpfpq")

[node name="MyTargetNode3DNode" type="Node3D" parent="ScreenManager/SceneManager/RigidBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -3.30046, 8.38599)

[node name="EnvironmentManager" type="Node3D" parent="ScreenManager"]

[node name="Lighting2" parent="ScreenManager/EnvironmentManager" instance=ExtResource("6_ligor")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 12, 0, 0)

[node name="DirectionalLight3D" parent="ScreenManager/EnvironmentManager/Lighting2" index="0"]
transform = Transform3D(-0.351598, 0.652837, 0.670957, -0.568413, 0.420603, -0.707107, -0.743832, -0.629997, 0.223198, -3.573, 100, 0.653)
light_energy = 7.153
light_indirect_energy = 6.334
light_volumetric_fog_energy = 1.025
light_angular_distance = 29.99
light_bake_mode = 1
shadow_bias = 5.357
shadow_normal_bias = 5.718
shadow_transmittance_bias = 1.691
shadow_opacity = 0.37
shadow_blur = 0.897
directional_shadow_fade_start = 0.206
directional_shadow_max_distance = 356.4
directional_shadow_pancake_size = 16.7

[node name="DirectionalLight3D5" parent="ScreenManager/EnvironmentManager/Lighting2" index="1"]
transform = Transform3D(0.681998, -0.144557, -0.716925, 0, 0.980271, -0.197657, 0.731354, 0.134802, 0.668543, -14.042, 100, -8.527)
light_energy = 2.641
light_indirect_energy = 5.103
directional_shadow_fade_start = 0.38
directional_shadow_max_distance = 317.5
directional_shadow_pancake_size = 34.1

[node name="WorldEnvironment" type="WorldEnvironment" parent="ScreenManager/EnvironmentManager"]
environment = ExtResource("5_pvwm4")

[node name="RocksBg" parent="ScreenManager/EnvironmentManager" instance=ExtResource("5_0asay")]

[node name="UIManager" type="Control" parent="ScreenManager"]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="Reticle" parent="ScreenManager/UIManager" instance=ExtResource("2_jtwl3")]
layout_mode = 1

[node name="GUIPanel2D" parent="ScreenManager/UIManager" instance=ExtResource("2_thtg6")]
layout_mode = 1
mouse_filter = 2

[node name="Player" parent="." instance=ExtResource("2_3t204")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.134662, -6)
floor_stop_on_slope = false
platform_floor_layers = 4294967044
platform_wall_layers = 2

[node name="PictureFrame" parent="." instance=ExtResource("5_pu7cx")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.202425, 1.57605, -2.27005)

[connection signal="HideItem" from="Player" to="PictureFrame" method="HideMesh"]
[connection signal="ShowItem" from="Player" to="PictureFrame" method="ShowMesh"]

[editable path="ScreenManager/EnvironmentManager/Lighting2"]
[editable path="PictureFrame"]
